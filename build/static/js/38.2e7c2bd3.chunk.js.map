{"version":3,"sources":["login-ims/forgot_password/forgot_password.jsx","login-ims/login.jsx","components/form/form-controls/form-control.jsx","components/form/button/button.jsx","components/form/form.jsx","components/form/error-box/error-box.jsx","components/form/heading/heading.jsx","components/form/form-controls/input.jsx","../node_modules/rc-resize-observer/es/index.js","components/layout/modal/modal.jsx","../node_modules/@ant-design/icons-svg/es/asn/LoadingOutlined.js","../node_modules/@ant-design/icons/es/icons/LoadingOutlined.js","services/api/user.js"],"names":["ForgotPassword","props","useState","email","setemail","emailWarn","setemailWarn","errorMsg","seterrorMsg","showLoader","setshowLoader","callback","data","status","reset","Modal","success","title","content","cancelClick","response","statusText","outlineColor","trim","validate","onSubmitHandler","e","preventDefault","forgotPassword","type","value","name","labelName","placeholder","onInputChange","target","isRequired","classValue","errorMsgs","className","isType","htmlTypes","isBlock","Content","Layout","Footer","connect","state","islogedin","redirectURL","undefined","Login","isLogedIn","redirect","isLoggedIn","isApproved","Basic","basic","approval","dispatch","login","actionType","visible","setvisible","userName","password","url","loginLoader","setloginLoader","tokenVerifyCallback","console","log","useEffect","GetToken","tokenVerify","sessionStorage","setItem","auth_token","user","firstTime","history","push","style","marginTop","height","Redirect","to","heading","showModal","footer","prefixType","onClick","textAlign","marginBottom","formControl","children","btn","htmlType","block","size","isSize","disabled","isDisabled","shape","forms","onSubmit","errorBox","inputType","htmlFor","prefix","color","onChange","required","readOnly","isReadonly","ReactResizeObserver","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","this","apply","arguments","resizeObserver","childNode","currentElement","width","offsetHeight","offsetWidth","onResize","entries","_target$getBoundingCl","getBoundingClientRect","fixedWidth","Math","floor","fixedHeight","setState","Promise","resolve","then","_objectSpread","setChildNode","node","_createClass","key","onComponentUpdated","destroyObserver","element","findDOMNode","ResizeObserver","observe","disconnect","childNodes","toArray","length","warning","React","supportRef","ref","composeRef","map","index","concat","displayName","modal","onOk","okClick","onCancel","okText","cancelText","okType","okBType","cancelType","cancelBType","maskClosable","LoadingOutlined","AntdIcon","Object","assign","icon","LoadingOutlinedSvg","getUserCompany","token","axios","get","headers","res","catch","err","patch"],"mappings":"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","file":"static/js/38.2e7c2bd3.chunk.js","sourcesContent":["\r\n\r\nimport React, { Component, useEffect, useState } from 'react';\r\nimport { Modal } from 'antd'\r\nimport Form from '../../components/form/form'\r\nimport InputType from '../../components/form/form-controls/input'\r\nimport Button from '../../components/form/button/button'\r\nimport ErrorBox from '../../components/form/error-box/error-box'\r\nimport Loader from '../../components/ui/loader/loader'\r\nimport { forgotPassword } from '../../services/api/user'\r\n\r\nconst ForgotPassword = (props) => {\r\n\r\n    const [email, setemail] = useState('');\r\n    const [emailWarn, setemailWarn] = useState(false);\r\n    const [errorMsg, seterrorMsg] = useState('');\r\n    const [showLoader, setshowLoader] = useState(false);\r\n\r\n    const success = () => {\r\n        Modal.success({\r\n            title: 'Successful',\r\n            content: 'Your new password has been sent to your email.',\r\n        });\r\n    }\r\n\r\n    const callback = (data) => {\r\n        if (data.status === 200) {\r\n            reset();\r\n            success();\r\n            props.cancelClick(); // close modal\r\n        } else if (data.response.status === 404) {\r\n            seterrorMsg(data.response.data.statusText)\r\n            setshowLoader(false)\r\n        } else {\r\n            seterrorMsg('Something went wrong. Please try again later &#x2639;')\r\n            setshowLoader(false)\r\n        }\r\n    }\r\n\r\n    const onFormSubmit = (e) => {\r\n        e.preventDefault();\r\n        reset();\r\n        setshowLoader(true)\r\n        if (validate()) {\r\n            outlineColor();\r\n            const data = {\r\n                email: email\r\n            };\r\n            if (data) {\r\n                forgotPassword(callback, data);\r\n            }\r\n        } else {\r\n            outlineColor()\r\n            seterrorMsg('Please fill all the required field')\r\n            setshowLoader(false)\r\n        }\r\n    }\r\n\r\n    const onInputChange = (e) => {\r\n        e.target.name(e.target.value)\r\n    }\r\n\r\n    const reset = () => {\r\n        setemail('')\r\n        seterrorMsg('')\r\n        setshowLoader(false)\r\n    }\r\n\r\n    const outlineColor = () => {\r\n        if (!email.trim()) {\r\n            setemailWarn(true)\r\n        } else {\r\n            setemailWarn(false)\r\n        }\r\n    }\r\n\r\n    const validate = () => {\r\n        return email.trim() !== '';\r\n    }\r\n\r\n    return (\r\n        <Form onSubmitHandler={onFormSubmit}>\r\n            <InputType\r\n                type=\"email\"\r\n                value={email}\r\n                name=\"email\"\r\n                labelName=\"Email\"\r\n                placeholder=\"Enter Your Email\"\r\n                onInputChange={onInputChange}\r\n                isRequired={true}\r\n                classValue={emailWarn ? 'inputField-outline' : null}\r\n            />\r\n            { errorMsg ? <ErrorBox errorMsgs={errorMsg} /> : null}\r\n            { showLoader ? <Loader>Requesting...</Loader> : null}\r\n            <div className=\"issue-form-button\" >\r\n                <Button isType='primary' htmlTypes='submit' isBlock={true}>Submit</Button>\r\n            </div>\r\n        </Form>\r\n    )\r\n\r\n}\r\n\r\nexport default ForgotPassword","\r\n\r\nimport React, { Component, useEffect, useState } from 'react'\r\nimport { Layout } from 'antd'\r\nimport Modal from '../components/layout/modal/modal';\r\nimport Header from '../components/header/header';\r\nimport Heading from '../components/form/heading/heading'\r\nimport InputType from '../components/form/form-controls/input'\r\nimport Button from '../components/form/button/button'\r\nimport Form from '../components/form/form'\r\nimport { login, tokenVerify } from '../services/api/login-ims'\r\nimport ForgotPassword from './forgot_password/forgot_password'\r\nimport { SetToken, GetToken } from '../helpers/token';\r\nimport * as actionType from '../store/actions/action-type';\r\nimport { connect } from 'react-redux'\r\nimport ErrorBox from '../components/form/error-box/error-box'\r\nimport { Redirect } from 'react-router-dom'\r\nimport Loader from '../components/ui/loader/loader';\r\nconst { Content, Footer } = Layout;\r\n\r\nconst Login = (props) => {\r\n\r\n    const [visible, setvisible] = useState(false);\r\n    const [userName, setuserName] = useState('');\r\n    const [password, setpassword] = useState('');\r\n    const [url, seturl] = useState(props.redirectURL);\r\n    const [errorMsg, seterrorMsg] = useState('');\r\n    const [showLoader, setshowLoader] = useState(false);\r\n    const [loginLoader, setloginLoader] = useState(true);\r\n\r\n    const tokenVerifyCallback = (data) => {\r\n        if (data.status === 200) {\r\n            setloginLoader(false);\r\n            props.basic(data.data);\r\n        } else {\r\n            setloginLoader(false);\r\n            console.log(data.response)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (GetToken) {\r\n            tokenVerify(tokenVerifyCallback, GetToken());\r\n        } else {\r\n            setloginLoader(false);\r\n        }\r\n    },[])\r\n\r\n    const callback = (data) => {\r\n        if (data.status === 200) {\r\n\r\n            setshowLoader(false);\r\n            seterrorMsg('');\r\n            sessionStorage.setItem('jwt', data.data.auth_token);\r\n            // SetToken(data.data.token, 5);\r\n            props.basic(data.data.user);\r\n            if (data.data.user.firstTime === false) {\r\n                props.history.push('/user/updatePassword');\r\n            } else if ((data.data.user.approval === 'pending' || data.data.user.approval === null) && data.data.user.firstTime === true) {\r\n                props.history.push('/user/profile');\r\n            } else if (data.data.user.firstTime && data.data.user.approval === 'approved') {\r\n                props.login();\r\n                if (!url || url === '/') {\r\n                    props.history.push('/dashboard');\r\n                } else {\r\n                    props.history.push(url);\r\n                }\r\n            }\r\n        } else if (data.response) {\r\n            setshowLoader(false)\r\n            seterrorMsg(\"Please enter valid username or password.\")\r\n        } else {\r\n            setshowLoader(false)\r\n            seterrorMsg(\"Something went wrong. Please try again latter!\")\r\n        }\r\n    }\r\n\r\n    const onFormSubmit = (e) => {\r\n        e.preventDefault()\r\n        setshowLoader(true)\r\n        seterrorMsg(\"\")\r\n        const data = {\r\n            email: userName,\r\n            password: password\r\n        };\r\n        if (userName && password) {\r\n            login(callback, data);\r\n        } else {\r\n            seterrorMsg(\"Please enter valid username or password\")\r\n        }\r\n    }\r\n\r\n    const onInputChange = (e) => {\r\n        e.target.name(e.target.value)\r\n    }\r\n\r\n    const openModal = () => {\r\n        setvisible(true)\r\n    }\r\n\r\n    // close modal\r\n    const cancelClick = () => {\r\n        setvisible(false)\r\n    }\r\n\r\n    if (loginLoader) {\r\n        return (\r\n            <Layout>\r\n                <Header />\r\n                <Layout style={{ marginTop: 64, height: '93vh' }} >\r\n                    <Content className=\"login\">\r\n                        <Loader>Loading...</Loader>\r\n                    </Content>\r\n                </Layout>\r\n            </Layout>\r\n        )\r\n    } else if (props.isLoggedIn && props.isApproved === 'approved' && GetToken()) {\r\n        return <Redirect to={url} />\r\n    } else {\r\n        return (\r\n            <Layout>\r\n                <Header />\r\n                <Layout style={{ marginTop: 64, height: '93vh' }} >\r\n                    <Modal\r\n                        heading=\"Enter Your Registered Email.\"\r\n                        showModal={visible}\r\n                        cancelClick={cancelClick}\r\n                        footer={null}\r\n                    >\r\n                        <ForgotPassword cancelClick={cancelClick} />\r\n                    </Modal>\r\n                    <Content className=\"login\">\r\n                        <div className=\"login-box\">\r\n                            <Heading heading={<b>Sign In</b>} />\r\n                            <Form onSubmitHandler={onFormSubmit}>\r\n                                <InputType\r\n                                    type=\"text\"\r\n                                    value={userName}\r\n                                    name=\"userName\"\r\n                                    prefixType=\"user\"\r\n                                    placeholder=\"Enter Username\"\r\n                                    onInputChange={onInputChange}\r\n                                    isRequired={true}\r\n                                    labelName=\"User Name\"\r\n                                />\r\n                                <InputType\r\n                                    type=\"password\"\r\n                                    value={password}\r\n                                    name=\"password\"\r\n                                    prefixType=\"lock\"\r\n                                    placeholder=\"Enter Password\"\r\n                                    onInputChange={onInputChange}\r\n                                    isRequired={true}\r\n                                    labelName=\"Password\"\r\n                                />\r\n                                {errorMsg ? <ErrorBox errorMsgs={errorMsg} /> : null}\r\n                                {showLoader ? <Loader>Logging...</Loader> : null}\r\n                                <div className=\"login-button-group\">\r\n                                    <div className=\"login-group\">\r\n                                        <Button isType='primary' htmlTypes='submit' isBlock={true}>LOGIN</Button>\r\n                                    </div>\r\n                                    <div className=\"login-group\">\r\n                                        <Button isType='danger' isBlock={true} onClick={openModal}>FORGOT PASSWORD</Button>\r\n                                    </div>\r\n                                </div>\r\n                            </Form>\r\n                        </div>\r\n                    </Content>\r\n                    <Footer style={{ textAlign: 'center', marginBottom: 64 }}>\r\n                        Copyright © 2018. Ethereal Machines Pvt Ltd. All rights reserved.\r\n                        </Footer>\r\n                </Layout>\r\n            </Layout>\r\n        )\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    let islogedin, redirectURL;\r\n    if (state.Login === undefined || state.Login === null) {\r\n        islogedin = false,\r\n            redirectURL = '/loginasims'\r\n    }\r\n    else {\r\n        islogedin = state.Login.isLogedIn\r\n        redirectURL = state.Login.redirect\r\n    }\r\n    return {\r\n        isLoggedIn: islogedin,\r\n        isApproved: state.Basic.basic.approval,\r\n        redirectURL: redirectURL\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        login: () => {\r\n            dispatch({\r\n                type: actionType.LOGINASIMS\r\n            })\r\n        },\r\n        basic: (data) => {\r\n            dispatch({\r\n                type: actionType.USER_BASIC,\r\n                value: data\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)"," \r\n\r\nimport React from 'react'\r\n\r\nconst formControl = (props) => {\r\n    return(\r\n        <div className=\"form-control\">\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default formControl"," \r\n\r\n import React from 'react'\r\nimport { Button } from 'antd'\r\n\r\nconst btn = (props) => {\r\n    return(\r\n        <Button \r\n            htmlType={props.htmlTypes} \r\n            block={props.isBlock ? true : false}\r\n            size={props.isSize ? props.isSize : 'large'}\r\n            type={props.isType ? props.isType : 'default'}\r\n            disabled={props.isDisabled ? props.isDisabled : false}\r\n            shape={props.shape}\r\n            className={props.classValue}\r\n            onClick={props.onClick}\r\n        >\r\n            {props.children}\r\n        </Button>\r\n    )\r\n}\r\n\r\nexport default btn"," \r\n\r\nimport React from 'react'\r\n\r\nconst forms = (props) => {\r\n    return(\r\n        <form onSubmit={props.onSubmitHandler}>\r\n            {props.children}\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default forms"," \r\n\r\n import React from 'react';\r\nimport FormControl from '../form-controls/form-control'\r\nimport './error-box.css';\r\n\r\n  function errorBox(props){  \r\n    return (\r\n        <FormControl>\r\n            <div className=\"error-box\">\r\n                Warning:&nbsp;{props.errorMsgs}&nbsp;{props.children}\r\n            </div>\r\n        </FormControl>\r\n        \r\n    );\r\n  }\r\n\r\n\r\nexport default errorBox;"," \r\n\r\nimport React from 'react'\r\n\r\nconst heading = (props) => {\r\n    return(\r\n        <div className=\"heading\">\r\n            <h1>{props.heading}</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default heading"," \n\nimport React from 'react'\nimport { Input } from 'antd';\nimport Icon from '@ant-design/icons';\nimport FormControl from './form-control'\n\nconst inputType =(props)=> {\n    return(\n        <FormControl>\n            <label htmlFor={props.name}>\n                {props.labelName}\n                {props.isRequired ? <span className=\"star\">*</span> : null}\n            </label>\n            <Input\n                type={props.type}\n                className={props.classValue}\n                placeholder={props.placeholder}\n                prefix={props.prefixType ? <Icon type={props.prefixType} style={{ color: 'rgba(0,0,0,.25)' }} /> : null}\n                name={props.name}\n                value={props.value}\n                onChange={props.onInputChange}\n                required={props.isRequired ? props.isRequired : false}\n                size='large'\n                readOnly={props.isReadonly ? props.isReadonly : false}\n            />\n        </FormControl>\n        \n    )\n}\n\nexport default inputType\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport * as React from 'react';\nimport findDOMNode from \"rc-util/es/Dom/findDOMNode\";\nimport toArray from \"rc-util/es/Children/toArray\";\nimport warning from \"rc-util/es/warning\";\nimport { composeRef, supportRef } from \"rc-util/es/ref\";\nimport ResizeObserver from 'resize-observer-polyfill';\nvar INTERNAL_PREFIX_KEY = 'rc-observer-key'; // Still need to be compatible with React 15, we use class component here\n\nvar ReactResizeObserver = /*#__PURE__*/function (_React$Component) {\n  _inherits(ReactResizeObserver, _React$Component);\n\n  var _super = _createSuper(ReactResizeObserver);\n\n  function ReactResizeObserver() {\n    var _this;\n\n    _classCallCheck(this, ReactResizeObserver);\n\n    _this = _super.apply(this, arguments);\n    _this.resizeObserver = null;\n    _this.childNode = null;\n    _this.currentElement = null;\n    _this.state = {\n      width: 0,\n      height: 0,\n      offsetHeight: 0,\n      offsetWidth: 0\n    };\n\n    _this.onResize = function (entries) {\n      var onResize = _this.props.onResize;\n      var target = entries[0].target;\n\n      var _target$getBoundingCl = target.getBoundingClientRect(),\n          width = _target$getBoundingCl.width,\n          height = _target$getBoundingCl.height;\n\n      var offsetWidth = target.offsetWidth,\n          offsetHeight = target.offsetHeight;\n      /**\n       * Resize observer trigger when content size changed.\n       * In most case we just care about element size,\n       * let's use `boundary` instead of `contentRect` here to avoid shaking.\n       */\n\n      var fixedWidth = Math.floor(width);\n      var fixedHeight = Math.floor(height);\n\n      if (_this.state.width !== fixedWidth || _this.state.height !== fixedHeight || _this.state.offsetWidth !== offsetWidth || _this.state.offsetHeight !== offsetHeight) {\n        var size = {\n          width: fixedWidth,\n          height: fixedHeight,\n          offsetWidth: offsetWidth,\n          offsetHeight: offsetHeight\n        };\n\n        _this.setState(size);\n\n        if (onResize) {\n          // defer the callback but not defer to next frame\n          Promise.resolve().then(function () {\n            onResize(_objectSpread(_objectSpread({}, size), {}, {\n              offsetWidth: offsetWidth,\n              offsetHeight: offsetHeight\n            }), target);\n          });\n        }\n      }\n    };\n\n    _this.setChildNode = function (node) {\n      _this.childNode = node;\n    };\n\n    return _this;\n  }\n\n  _createClass(ReactResizeObserver, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.onComponentUpdated();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.onComponentUpdated();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.destroyObserver();\n    }\n  }, {\n    key: \"onComponentUpdated\",\n    value: function onComponentUpdated() {\n      var disabled = this.props.disabled; // Unregister if disabled\n\n      if (disabled) {\n        this.destroyObserver();\n        return;\n      } // Unregister if element changed\n\n\n      var element = findDOMNode(this.childNode || this);\n      var elementChanged = element !== this.currentElement;\n\n      if (elementChanged) {\n        this.destroyObserver();\n        this.currentElement = element;\n      }\n\n      if (!this.resizeObserver && element) {\n        this.resizeObserver = new ResizeObserver(this.onResize);\n        this.resizeObserver.observe(element);\n      }\n    }\n  }, {\n    key: \"destroyObserver\",\n    value: function destroyObserver() {\n      if (this.resizeObserver) {\n        this.resizeObserver.disconnect();\n        this.resizeObserver = null;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var children = this.props.children;\n      var childNodes = toArray(children);\n\n      if (childNodes.length > 1) {\n        warning(false, 'Find more than one child node with `children` in ResizeObserver. Will only observe first one.');\n      } else if (childNodes.length === 0) {\n        warning(false, '`children` of ResizeObserver is empty. Nothing is in observe.');\n        return null;\n      }\n\n      var childNode = childNodes[0];\n\n      if ( /*#__PURE__*/React.isValidElement(childNode) && supportRef(childNode)) {\n        var ref = childNode.ref;\n        childNodes[0] = /*#__PURE__*/React.cloneElement(childNode, {\n          ref: composeRef(ref, this.setChildNode)\n        });\n      }\n\n      return childNodes.length === 1 ? childNodes[0] : childNodes.map(function (node, index) {\n        if (! /*#__PURE__*/React.isValidElement(node) || 'key' in node && node.key !== null) {\n          return node;\n        }\n\n        return /*#__PURE__*/React.cloneElement(node, {\n          key: \"\".concat(INTERNAL_PREFIX_KEY, \"-\").concat(index)\n        });\n      });\n    }\n  }]);\n\n  return ReactResizeObserver;\n}(React.Component);\n\nReactResizeObserver.displayName = 'ResizeObserver';\nexport default ReactResizeObserver;"," \r\n\r\nimport React from 'react'\r\nimport { Modal } from 'antd';\r\n\r\nconst modal = (props) => {\r\n    return(\r\n        <Modal \r\n            title={props.heading}\r\n            visible={props.showModal}\r\n            onOk={props.okClick}\r\n            onCancel={props.cancelClick}\r\n            okText={props.okText ? props.okText : 'Ok'}\r\n            cancelText=\"Cancel\"\r\n            okType={props.okBType ? props.okBType : 'primary'}\r\n            cancelType={props.cancelBType ? props.cancelBType : 'default'}\r\n            footer={props.footer}\r\n            maskClosable={props.maskClosable}\r\n            width={768}\r\n        >\r\n            {props.children}\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default modal\r\n","// This icon file is generated automatically.\nvar LoadingOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"0 0 1024 1024\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z\" } }] }, \"name\": \"loading\", \"theme\": \"outlined\" };\nexport default LoadingOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport LoadingOutlinedSvg from \"@ant-design/icons-svg/es/asn/LoadingOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar LoadingOutlined = function LoadingOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: LoadingOutlinedSvg\n  }));\n};\n\nLoadingOutlined.displayName = 'LoadingOutlined';\nexport default /*#__PURE__*/React.forwardRef(LoadingOutlined);"," \r\n\r\nimport axios from '../axios/axios';\r\n\r\n// get issues\r\nexport const getUserCompany = (callback, token) => {\r\n    axios.get('/companycreate/', {\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Authorization': token ? `Token ${token}` : '',\r\n            'Content-Type': 'application/json'\r\n        }\r\n    })\r\n    .then((res) => {\r\n        callback(res)\r\n    }).catch(err => callback(err))\r\n}\r\n\r\n// forgot password\r\nexport const forgotPassword = (callback, data) => {\r\n    axios.patch('/user/forgot-password', data)\r\n    .then((res) => {\r\n        callback(res)\r\n    }).catch((err) => callback(err))\r\n}"],"sourceRoot":""}