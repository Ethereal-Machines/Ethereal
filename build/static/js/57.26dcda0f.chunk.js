(this["webpackJsonpetherealmachines.com"]=this["webpackJsonpetherealmachines.com"]||[]).push([[57],{1799:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s(27),r=s(205),c=s(87),o=(s(217),s(188)),i=s(47),l=s(50),u=(s.n(l).a.create({baseURL:"https://api.etherealmachines.com"}),s(96)),j=s(5),b=s(228),d=s(31),p=s(120),h=s(2),m=Object(i.b)(null,(function(e){return{loginUser:function(){e({type:j.w})}}}))((function(e){var t=Object(a.useContext)(p.a),s=t.login2,i=(t.session,Object(a.useState)("")),l=Object(n.a)(i,2),j=l[0],m=l[1],O=Object(a.useState)(""),f=Object(n.a)(O,2),g=f[0],x=f[1],w=Object(a.useState)(null),v=Object(n.a)(w,2),y=v[0],S=v[1],k=Object(a.useState)(!1),N=Object(n.a)(k,2),E=N[0],q=N[1],C=Object(a.useState)(!0),U=Object(n.a)(C,2),T=(U[0],U[1]),F=function(t){200===t.status?(T(!1),e.basic(t.data)):(T(!1),console.log(t.response))};Object(a.useEffect)((function(){d.b?Object(u.b)(F,Object(d.b)()):T(!1)}),[]);var J=function(t){if(200===t.status)t.data.auth_token?(sessionStorage.setItem("jwt",t.data.auth_token),e.loginUser(),e.history.push("/"),b.a(".select-input"),S(null),q(!1)):(S(""),T(!1),Object(d.c)(t.data.token,5),"false"===t.data.firstTime?e.history.push("/user/updatePassword"):"pending"!==t.data.approval&&null!==t.data.approval||"true"!==t.data.firstTime?"true"===t.data.firstTime&&"approved"===t.data.approval&&("user"==t.data.group?(console.log(t.data),e.history.push("/dashboarduser")):e.history.push("/dashboardadmin")):e.history.push("/user/profile"));else if(t.response)S(t.response.data),q(!1);else{S({Error:["Oops! Something went wrong, please try again."]}),q(!1)}};return Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault()},children:[Object(h.jsxs)(o.a,{children:[Object(h.jsxs)("label",{htmlFor:"username",children:["Username",Object(h.jsx)("span",{className:"star",children:"*"})]}),Object(h.jsx)("input",{type:"text",name:"username",placeholder:"Enter the username",className:"input-element",id:"username",required:!0,value:j,onChange:function(e){return m(e.target.value)}})]}),Object(h.jsxs)(o.a,{children:[Object(h.jsxs)("label",{htmlFor:"password",children:["Password",Object(h.jsx)("span",{className:"star",children:"*"})]}),Object(h.jsx)("input",{type:"password",name:"password",placeholder:"Enter the password",className:"input-element",id:"password",required:!0,value:g,onChange:function(e){return x(e.target.value)}})]}),y?Object(h.jsx)(r.a,{isRequired:!0,errorMsg:y}):null,E?Object(h.jsx)(c.a,{children:"Submitting your request..."}):null,Object(h.jsx)("button",{className:"form-btn",onClick:function(){var e={username:j,password:g};"ethereal"===j||"Ethereal"===j?(s(J,e),console.log("working")):(Object(u.a)(J,e),console.log("not working"))},children:"Login"})]})})),O=s(195),f=s(194);t.default=function(e){return Object(h.jsxs)("div",{className:"page page--login",children:[Object(h.jsx)(O.a,{}),Object(h.jsx)("section",{className:"section flex-row",children:Object(h.jsx)("div",{className:"container",children:Object(h.jsx)(m,{history:e.history})})}),Object(h.jsx)(f.a,{})]})}}}]);
//# sourceMappingURL=57.26dcda0f.chunk.js.map