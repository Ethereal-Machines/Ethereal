(this["webpackJsonpetherealmachines.com"]=this["webpackJsonpetherealmachines.com"]||[]).push([[40],{1794:function(e,t,n){"use strict";n.r(t);var a=n(27),c=n(0),i=n(47),s=n(451),r=n(254),l=n(247),o=n(269),u=n(230),p=n(248),j=n(87),d=n(39),b=function(e,t,n){d.a.post("/user/company",t,{headers:{Accept:"application/json",Authorization:n?"Token ".concat(n):"","Content-Type":"application/json"}}).then((function(t){e(t)})).catch((function(t){return e(t)}))},m=n(5),h=n(31),O=n(2);var f=Object(i.b)(null,(function(e){return{addCompany:function(t){e({type:m.b,value:t})}}}))((function(e){var t=Object(c.useState)(""),n=Object(a.a)(t,2),i=n[0],s=n[1],r=Object(c.useState)(""),d=Object(a.a)(r,2),m=d[0],f=d[1],x=Object(c.useState)(!1),y=Object(a.a)(x,2),C=y[0],v=y[1],g=Object(c.useState)(!1),S=Object(a.a)(g,2),k=S[0],N=S[1],T=Object(c.useState)(!1),R=Object(a.a)(T,2),q=R[0],w=R[1],z=Object(c.useState)(""),F=Object(a.a)(z,2),L=F[0],P=F[1],E=function(t){200===t.status?(M(),e.addCompany(t.data),e.cancelClick(!1)):(t.response,w("Something went wrong. Please try again later &#x2639;"),P(!1))},I=function(e){e.target.name(e.target.value)},M=function(){s(""),f(""),w(""),P(!1)},A=function(){i.trim()?v(!1):v(!0),m.trim()?N(!1):N(!0)},B=function(){return""!==i.trim()&&""!==m.trim()};return Object(O.jsxs)(l.a,{onSubmitHandler:function(e){var t=Object(h.b)();if(e.preventDefault(),P(!0),w(""),B()){A();var n={name:i,location:m};n&&t&&b(E,n,t)}else A(),w("Please fill all the required field.")},children:[Object(O.jsx)(o.a,{type:"text",value:i,name:"name",labelName:"Company Name",placeholder:"Enter Company Name",onInputChange:I,isRequired:!0,classValue:C?"inputField-outline":null}),Object(O.jsx)(o.a,{type:"text",value:m,name:"location",labelName:"Company Location",placeholder:"Enter Company Location",onInputChange:I,isRequired:!0,classValue:k?"inputField-outline":null}),q?Object(O.jsx)(p.a,{errorMsgs:q}):null,L?Object(O.jsx)(j.a,{children:"Creating..."}):null,Object(O.jsx)("div",{className:"issue-form-button",children:Object(O.jsx)(u.a,{isType:"primary",htmlTypes:"submit",isBlock:!0,children:"Submit"})})]})})),x=n(553),y=n(380),C=function(e,t,n){d.a.post("/user",t,{headers:{Accept:"application/json",Authorization:n?"Token ".concat(n):"","Content-Type":"application/json"}}).then((function(t){e(t)})).catch((function(t){return e(t)}))},v=x.a.Option,g=function(e){var t=Object(c.useState)(""),n=Object(a.a)(t,2),i=n[0],s=n[1],r=Object(c.useState)(""),d=Object(a.a)(r,2),b=d[0],m=d[1],f=Object(c.useState)(""),x=Object(a.a)(f,2),g=x[0],S=x[1],k=Object(c.useState)(""),N=Object(a.a)(k,2),T=N[0],R=N[1],q=Object(c.useState)(""),w=Object(a.a)(q,2),z=w[0],F=w[1],L=Object(c.useState)(!1),P=Object(a.a)(L,2),E=P[0],I=P[1],M=Object(c.useState)(!1),A=Object(a.a)(M,2),B=A[0],U=A[1],V=Object(c.useState)(""),D=Object(a.a)(V,2),H=D[0],_=D[1],J=Object(c.useState)(!1),W=Object(a.a)(J,2),G=W[0],K=W[1],Q=function(e){200===e.status?(s(""),m(""),S(""),R(""),F(""),_(""),K(!1),console.log(e.data)):e.response?(_(e.response.data._message),K(!1)):(_("Something went wrong. Please try again later &#x2639;"),K(!1))},X=function(e){e.target.name(e.target.value)},Y=function(){I(!g),U(!T)},Z=function(){return""!==i&&""!==b&&""!==g&&""!==T&&""!==z},$=e.companies;return Object(O.jsxs)(l.a,{onSubmitHandler:function(e){var t=Object(h.b)();if(_(""),K(!0),e.preventDefault(),Z()){Y();var n={name:i,email:b,companyId:g,group:T,phone:z};n&&t&&C(Q,n,t)}else Y(),_("Please fill all the required field")},children:[Object(O.jsx)(y.a,{labelName:"Comapny",placeholder:"Select User Company",optionFilterProp:"children",onSelect:function(e){S(e)},size:"large",isRequired:!0,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},classValue:E?"inputField-outline":null,children:$.map((function(e){return Object(O.jsx)(v,{value:e._id,children:e.name},e._id)}))}),Object(O.jsx)(p.a,{errorMsgs:"If company is not listed above then create company",children:Object(O.jsx)(u.a,{isSize:"small",isType:"danger",onClick:function(){return e.openModal(!0)},children:"Click"})}),Object(O.jsxs)(y.a,{labelName:"User Role",placeholder:"Select User Role",optionFilterProp:"children",onSelect:function(e){R(e)},size:"large",isRequired:!0,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},classValue:B?"inputField-outline":null,children:[Object(O.jsx)(v,{value:"user",children:"User"}),Object(O.jsx)(v,{value:"admin",children:"Admin"})]}),Object(O.jsx)(o.a,{type:"text",value:i,name:"name",labelName:"Name ",placeholder:"Enter Name",onInputChange:X,isRequired:!0}),Object(O.jsx)(o.a,{type:"email",value:b,name:"email",labelName:"Email",placeholder:"Enter Email",onInputChange:X,isRequired:!0}),Object(O.jsx)(o.a,{type:"number",value:z,name:"phone",labelName:"Phone Number",placeholder:"Enter Phone",onInputChange:X,isRequired:!0}),H?Object(O.jsx)(p.a,{errorMsgs:H}):null,G?Object(O.jsx)(j.a,{children:"Creating..."}):null,Object(O.jsx)("div",{className:"issue-form-button",children:Object(O.jsx)(u.a,{isType:"primary",htmlTypes:"submit",isBlock:!0,children:"Submit"})})]})},S=n(783);t.default=Object(i.b)((function(e){return{firstRunCompanies:e.Company.firstRun,companies:e.Company.company}}),(function(e){return{getCompany:function(t){e({type:m.n,value:t})},dispatchUpdateFirstRunCompanies:function(t){e({type:m.L,value:t})}}}))((function(e){var t=Object(c.useState)(!1),n=Object(a.a)(t,2),i=n[0],l=n[1],o=Object(c.useState)(e.firstRunCompanies),u=Object(a.a)(o,2),p=u[0],d=u[1],b=Object(c.useState)(Object(h.b)()),m=Object(a.a)(b,2),x=m[0],y=(m[1],function(t){x&&(200===t.status?(e.getCompany(t.data),d(!1),e.dispatchUpdateFirstRunCompanies(!1)):console.log(t.response))});Object(c.useEffect)((function(){x&&e.firstRunCompanies&&Object(S.a)(y,x)}),[]);var C=function(e){l(!1)};return p&&!e.companies?Object(O.jsx)(j.a,{}):e.companies?Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("div",{className:"issue-form",children:[Object(O.jsx)(s.a,{heading:"Create Company",showModal:i,cancelClick:C,footer:null,children:Object(O.jsx)(f,{cancelClick:C})}),Object(O.jsx)(r.a,{heading:"Create New User"}),Object(O.jsx)(g,{openModal:function(e){l(e)},companies:e.companies})]})}):null}))},199:function(e,t,n){"use strict";n(0);var a=n(2);t.a=function(e){return Object(a.jsx)("div",{className:"form-control",children:e.children})}},230:function(e,t,n){"use strict";n(0);var a=n(379),c=n(2);t.a=function(e){return Object(c.jsx)(a.a,{htmlType:e.htmlTypes,block:!!e.isBlock,size:e.isSize?e.isSize:"large",type:e.isType?e.isType:"default",disabled:!!e.isDisabled&&e.isDisabled,shape:e.shape,className:e.classValue,onClick:e.onClick,children:e.children})}},247:function(e,t,n){"use strict";n(0);var a=n(2);t.a=function(e){return Object(a.jsx)("form",{onSubmit:e.onSubmitHandler,children:e.children})}},248:function(e,t,n){"use strict";n(0);var a=n(199),c=(n(318),n(2));t.a=function(e){return Object(c.jsx)(a.a,{children:Object(c.jsxs)("div",{className:"error-box",children:["Warning:\xa0",e.errorMsgs,"\xa0",e.children]})})}},254:function(e,t,n){"use strict";n(0);var a=n(2);t.a=function(e){return Object(a.jsx)("div",{className:"heading",children:Object(a.jsx)("h1",{children:e.heading})})}},269:function(e,t,n){"use strict";n(0);var a=n(1786),c=n(168),i=n(199),s=n(2);t.a=function(e){return Object(s.jsxs)(i.a,{children:[Object(s.jsxs)("label",{htmlFor:e.name,children:[e.labelName,e.isRequired?Object(s.jsx)("span",{className:"star",children:"*"}):null]}),Object(s.jsx)(a.a,{type:e.type,className:e.classValue,placeholder:e.placeholder,prefix:e.prefixType?Object(s.jsx)(c.a,{type:e.prefixType,style:{color:"rgba(0,0,0,.25)"}}):null,name:e.name,value:e.value,onChange:e.onInputChange,required:!!e.isRequired&&e.isRequired,size:"large",readOnly:!!e.isReadonly&&e.isReadonly})]})}},318:function(e,t,n){},380:function(e,t,n){"use strict";var a=n(1),c=(n(0),n(553)),i=n(199),s=n(2);t.a=function(e){return Object(s.jsxs)(i.a,{children:[Object(s.jsxs)("label",{htmlFor:e.name,children:[e.labelName,e.isRequired?Object(s.jsx)("span",{className:"star",children:"*"}):null,"\xa0"]}),Object(s.jsx)(c.a,Object(a.a)(Object(a.a)({showSearch:!0,className:e.classValue,placeholder:e.placeholder,optionFilterProp:"children",onChange:e.onSelect,size:"large",required:!!e.isRequired&&e.isRequired,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},e),{},{children:e.children}))]})}},451:function(e,t,n){"use strict";n(0);var a=n(1789),c=n(2);t.a=function(e){return Object(c.jsx)(a.a,{title:e.heading,visible:e.showModal,onOk:e.okClick,onCancel:e.cancelClick,okText:e.okText?e.okText:"Ok",cancelText:"Cancel",okType:e.okBType?e.okBType:"primary",cancelType:e.cancelBType?e.cancelBType:"default",footer:e.footer,maskClosable:e.maskClosable,width:768,children:e.children})}},783:function(e,t,n){"use strict";var a=n(39);t.a=function(e,t){a.a.get("/user/company",{headers:{Accept:"application/json",Authorization:t?"Token ".concat(t):"","Content-Type":"application/json"}}).then((function(t){e(t)})).catch((function(t){return e(t)}))}}}]);
//# sourceMappingURL=40.e591def8.chunk.js.map