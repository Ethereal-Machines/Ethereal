(this["webpackJsonpetherealmachines.com"]=this["webpackJsonpetherealmachines.com"]||[]).push([[38],{1805:function(e,t,n){"use strict";n.r(t);var s=n(27),a=n(0),i=n(167),r=n(451),c=n(97),o=n(254),l=n(269),u=n(230),d=n(247),h=n(96),b=n(1789),j=n(248),p=n(87),f=n(779),O=n(2),m=function(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),i=n[0],r=n[1],c=Object(a.useState)(!1),o=Object(s.a)(c,2),h=o[0],m=o[1],g=Object(a.useState)(""),v=Object(s.a)(g,2),y=v[0],x=v[1],k=Object(a.useState)(!1),T=Object(s.a)(k,2),w=T[0],C=T[1],N=function(t){200===t.status?(S(),b.a.success({title:"Successful",content:"Your new password has been sent to your email."}),e.cancelClick()):404===t.response.status?(x(t.response.data.statusText),C(!1)):(x("Something went wrong. Please try again later &#x2639;"),C(!1))},S=function(){r(""),x(""),C(!1)},R=function(){i.trim()?m(!1):m(!0)},z=function(){return""!==i.trim()};return Object(O.jsxs)(d.a,{onSubmitHandler:function(e){if(e.preventDefault(),S(),C(!0),z()){R();var t={email:i};t&&Object(f.a)(N,t)}else R(),x("Please fill all the required field"),C(!1)},children:[Object(O.jsx)(l.a,{type:"email",value:i,name:"email",labelName:"Email",placeholder:"Enter Your Email",onInputChange:function(e){e.target.name(e.target.value)},isRequired:!0,classValue:h?"inputField-outline":null}),y?Object(O.jsx)(j.a,{errorMsgs:y}):null,w?Object(O.jsx)(p.a,{children:"Requesting..."}):null,Object(O.jsx)("div",{className:"issue-form-button",children:Object(O.jsx)(u.a,{isType:"primary",htmlTypes:"submit",isBlock:!0,children:"Submit"})})]})},g=n(31),v=n(5),y=n(47),x=n(170),k=i.a.Content,T=i.a.Footer;t.default=Object(y.b)((function(e){var t,n;return void 0===e.Login||null===e.Login?(t=!1,n="/loginasims"):(t=e.Login.isLogedIn,n=e.Login.redirect),{isLoggedIn:t,isApproved:e.Basic.basic.approval,redirectURL:n}}),(function(e){return{login:function(){e({type:v.x})},basic:function(t){e({type:v.Z,value:t})}}}))((function(e){var t=Object(a.useState)(!1),n=Object(s.a)(t,2),b=n[0],f=n[1],v=Object(a.useState)(""),y=Object(s.a)(v,2),w=y[0],C=(y[1],Object(a.useState)("")),N=Object(s.a)(C,2),S=N[0],R=(N[1],Object(a.useState)(e.redirectURL)),z=Object(s.a)(R,2),E=z[0],L=(z[1],Object(a.useState)("")),B=Object(s.a)(L,2),P=B[0],I=B[1],M=Object(a.useState)(!1),q=Object(s.a)(M,2),U=q[0],W=q[1],H=Object(a.useState)(!0),A=Object(s.a)(H,2),D=A[0],F=A[1],V=function(t){200===t.status?(F(!1),e.basic(t.data)):(F(!1),console.log(t.response))};Object(a.useEffect)((function(){g.b?Object(h.b)(V,Object(g.b)()):F(!1)}),[]);var Y=function(t){200===t.status?(W(!1),I(""),sessionStorage.setItem("jwt",t.data.auth_token),e.basic(t.data.user),!1===t.data.user.firstTime?e.history.push("/user/updatePassword"):"pending"!==t.data.user.approval&&null!==t.data.user.approval||!0!==t.data.user.firstTime?t.data.user.firstTime&&"approved"===t.data.user.approval&&(e.login(),E&&"/"!==E?e.history.push(E):e.history.push("/dashboard")):e.history.push("/user/profile")):t.response?(W(!1),I("Please enter valid username or password.")):(W(!1),I("Something went wrong. Please try again latter!"))},G=function(e){e.target.name(e.target.value)},J=function(){f(!1)};return D?Object(O.jsxs)(i.a,{children:[Object(O.jsx)(c.a,{}),Object(O.jsx)(i.a,{style:{marginTop:64,height:"93vh"},children:Object(O.jsx)(k,{className:"login",children:Object(O.jsx)(p.a,{children:"Loading..."})})})]}):e.isLoggedIn&&"approved"===e.isApproved&&Object(g.b)()?Object(O.jsx)(x.a,{to:E}):Object(O.jsxs)(i.a,{children:[Object(O.jsx)(c.a,{}),Object(O.jsxs)(i.a,{style:{marginTop:64,height:"93vh"},children:[Object(O.jsx)(r.a,{heading:"Enter Your Registered Email.",showModal:b,cancelClick:J,footer:null,children:Object(O.jsx)(m,{cancelClick:J})}),Object(O.jsx)(k,{className:"login",children:Object(O.jsxs)("div",{className:"login-box",children:[Object(O.jsx)(o.a,{heading:Object(O.jsx)("b",{children:"Sign In"})}),Object(O.jsxs)(d.a,{onSubmitHandler:function(e){e.preventDefault(),W(!0),I("");var t={email:w,password:S};w&&S?Object(h.a)(Y,t):I("Please enter valid username or password")},children:[Object(O.jsx)(l.a,{type:"text",value:w,name:"userName",prefixType:"user",placeholder:"Enter Username",onInputChange:G,isRequired:!0,labelName:"User Name"}),Object(O.jsx)(l.a,{type:"password",value:S,name:"password",prefixType:"lock",placeholder:"Enter Password",onInputChange:G,isRequired:!0,labelName:"Password"}),P?Object(O.jsx)(j.a,{errorMsgs:P}):null,U?Object(O.jsx)(p.a,{children:"Logging..."}):null,Object(O.jsxs)("div",{className:"login-button-group",children:[Object(O.jsx)("div",{className:"login-group",children:Object(O.jsx)(u.a,{isType:"primary",htmlTypes:"submit",isBlock:!0,children:"LOGIN"})}),Object(O.jsx)("div",{className:"login-group",children:Object(O.jsx)(u.a,{isType:"danger",isBlock:!0,onClick:function(){f(!0)},children:"FORGOT PASSWORD"})})]})]})]})}),Object(O.jsx)(T,{style:{textAlign:"center",marginBottom:64},children:"Copyright \xa9 2018. Ethereal Machines Pvt Ltd. All rights reserved."})]})]})}))},199:function(e,t,n){"use strict";n(0);var s=n(2);t.a=function(e){return Object(s.jsx)("div",{className:"form-control",children:e.children})}},230:function(e,t,n){"use strict";n(0);var s=n(379),a=n(2);t.a=function(e){return Object(a.jsx)(s.a,{htmlType:e.htmlTypes,block:!!e.isBlock,size:e.isSize?e.isSize:"large",type:e.isType?e.isType:"default",disabled:!!e.isDisabled&&e.isDisabled,shape:e.shape,className:e.classValue,onClick:e.onClick,children:e.children})}},247:function(e,t,n){"use strict";n(0);var s=n(2);t.a=function(e){return Object(s.jsx)("form",{onSubmit:e.onSubmitHandler,children:e.children})}},248:function(e,t,n){"use strict";n(0);var s=n(199),a=(n(318),n(2));t.a=function(e){return Object(a.jsx)(s.a,{children:Object(a.jsxs)("div",{className:"error-box",children:["Warning:\xa0",e.errorMsgs,"\xa0",e.children]})})}},254:function(e,t,n){"use strict";n(0);var s=n(2);t.a=function(e){return Object(s.jsx)("div",{className:"heading",children:Object(s.jsx)("h1",{children:e.heading})})}},269:function(e,t,n){"use strict";n(0);var s=n(1786),a=n(168),i=n(199),r=n(2);t.a=function(e){return Object(r.jsxs)(i.a,{children:[Object(r.jsxs)("label",{htmlFor:e.name,children:[e.labelName,e.isRequired?Object(r.jsx)("span",{className:"star",children:"*"}):null]}),Object(r.jsx)(s.a,{type:e.type,className:e.classValue,placeholder:e.placeholder,prefix:e.prefixType?Object(r.jsx)(a.a,{type:e.prefixType,style:{color:"rgba(0,0,0,.25)"}}):null,name:e.name,value:e.value,onChange:e.onInputChange,required:!!e.isRequired&&e.isRequired,size:"large",readOnly:!!e.isReadonly&&e.isReadonly})]})}},289:function(e,t,n){"use strict";var s=n(3),a=n(11),i=n(12),r=n(13),c=n(14),o=n(0),l=n(62),u=n(60),d=n(42),h=n(43),b=n(64),j=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.apply(this,arguments)).resizeObserver=null,e.childNode=null,e.currentElement=null,e.state={width:0,height:0,offsetHeight:0,offsetWidth:0},e.onResize=function(t){var n=e.props.onResize,a=t[0].target,i=a.getBoundingClientRect(),r=i.width,c=i.height,o=a.offsetWidth,l=a.offsetHeight,u=Math.floor(r),d=Math.floor(c);if(e.state.width!==u||e.state.height!==d||e.state.offsetWidth!==o||e.state.offsetHeight!==l){var h={width:u,height:d,offsetWidth:o,offsetHeight:l};e.setState(h),n&&Promise.resolve().then((function(){n(Object(s.a)(Object(s.a)({},h),{},{offsetWidth:o,offsetHeight:l}),a)}))}},e.setChildNode=function(t){e.childNode=t},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.onComponentUpdated()}},{key:"componentDidUpdate",value:function(){this.onComponentUpdated()}},{key:"componentWillUnmount",value:function(){this.destroyObserver()}},{key:"onComponentUpdated",value:function(){if(this.props.disabled)this.destroyObserver();else{var e=Object(l.a)(this.childNode||this);e!==this.currentElement&&(this.destroyObserver(),this.currentElement=e),!this.resizeObserver&&e&&(this.resizeObserver=new b.a(this.onResize),this.resizeObserver.observe(e))}}},{key:"destroyObserver",value:function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}},{key:"render",value:function(){var e=this.props.children,t=Object(u.a)(e);if(t.length>1)Object(d.a)(!1,"Find more than one child node with `children` in ResizeObserver. Will only observe first one.");else if(0===t.length)return Object(d.a)(!1,"`children` of ResizeObserver is empty. Nothing is in observe."),null;var n=t[0];if(o.isValidElement(n)&&Object(h.c)(n)){var s=n.ref;t[0]=o.cloneElement(n,{ref:Object(h.a)(s,this.setChildNode)})}return 1===t.length?t[0]:t.map((function(e,t){return!o.isValidElement(e)||"key"in e&&null!==e.key?e:o.cloneElement(e,{key:"".concat("rc-observer-key","-").concat(t)})}))}}]),n}(o.Component);j.displayName="ResizeObserver",t.a=j},318:function(e,t,n){},451:function(e,t,n){"use strict";n(0);var s=n(1789),a=n(2);t.a=function(e){return Object(a.jsx)(s.a,{title:e.heading,visible:e.showModal,onOk:e.okClick,onCancel:e.cancelClick,okText:e.okText?e.okText:"Ok",cancelText:"Cancel",okType:e.okBType?e.okBType:"primary",cancelType:e.cancelBType?e.cancelBType:"default",footer:e.footer,maskClosable:e.maskClosable,width:768,children:e.children})}},540:function(e,t,n){"use strict";var s=n(0),a={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},i=n(48),r=function(e,t){return s.createElement(i.a,Object.assign({},e,{ref:t,icon:a}))};r.displayName="LoadingOutlined";t.a=s.forwardRef(r)},779:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var s=n(39),a=function(e,t){s.a.get("/companycreate/",{headers:{Accept:"application/json",Authorization:t?"Token ".concat(t):"","Content-Type":"application/json"}}).then((function(t){e(t)})).catch((function(t){return e(t)}))},i=function(e,t){s.a.patch("/user/forgot-password",t).then((function(t){e(t)})).catch((function(t){return e(t)}))}}}]);
//# sourceMappingURL=38.2e7c2bd3.chunk.js.map